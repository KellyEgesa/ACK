{"ast":null,"code":"var _jsxFileName = \"/home/kellyegesa/Desktop/Projects/ack_stpeters/src/compoments/Worshippers.jsx\";\nimport React, { Component } from \"react\";\nimport Maintable from \"../common/maintable\";\nimport { getService, deleteWorshippers } from \"../common/Worshippers\";\nimport { toast } from \"react-toastify\";\n\nclass WorshipperTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      worshippers: []\n    };\n\n    this.handleDeleteWorshippers = async worshipper => {\n      const originalWorshipper = this.state.worshippers;\n      const worshippers = originalWorshipper.filter(s => s._id !== worshipper._id);\n      this.setState({\n        worshippers\n      });\n\n      try {\n        await deleteWorshippers(worshipper._id);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404) toast.error(\"This person has been already deleted\");\n        this.setState({\n          worshippers: originalWorshipper\n        });\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      data: worshippers\n    } = await getService(this.props.match.params.id);\n    this.setState({\n      worshippers\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-m\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Maintable, {\n      items: this.state.worshippers,\n      toDelete: this.handleDeleteWorshippers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default WorshipperTable;","map":{"version":3,"sources":["/home/kellyegesa/Desktop/Projects/ack_stpeters/src/compoments/Worshippers.jsx"],"names":["React","Component","Maintable","getService","deleteWorshippers","toast","WorshipperTable","state","worshippers","handleDeleteWorshippers","worshipper","originalWorshipper","filter","s","_id","setState","ex","response","status","error","componentDidMount","data","props","match","params","id","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAASC,UAAT,EAAqBC,iBAArB,QAA8C,uBAA9C;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAEA,MAAMC,eAAN,SAA8BL,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACtCM,KADsC,GAC9B;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAD8B;;AAAA,SAOtCC,uBAPsC,GAOZ,MAAOC,UAAP,IAAsB;AAC9C,YAAMC,kBAAkB,GAAG,KAAKJ,KAAL,CAAWC,WAAtC;AACA,YAAMA,WAAW,GAAGG,kBAAkB,CAACC,MAAnB,CACjBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUJ,UAAU,CAACI,GADV,CAApB;AAGA,WAAKC,QAAL,CAAc;AAAEP,QAAAA;AAAF,OAAd;;AAEA,UAAI;AACF,cAAMJ,iBAAiB,CAACM,UAAU,CAACI,GAAZ,CAAvB;AACD,OAFD,CAEE,OAAOE,EAAP,EAAW;AACX,YAAIA,EAAE,CAACC,QAAH,IAAeD,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,GAA1C,EACEb,KAAK,CAACc,KAAN,CAAY,sCAAZ;AAEF,aAAKJ,QAAL,CAAc;AAAEP,UAAAA,WAAW,EAAEG;AAAf,SAAd;AACD;AACF,KAtBqC;AAAA;;AAEtC,QAAMS,iBAAN,GAA0B;AACxB,UAAM;AAAEC,MAAAA,IAAI,EAAEb;AAAR,QAAwB,MAAML,UAAU,CAAC,KAAKmB,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzB,CAA9C;AACA,SAAKV,QAAL,CAAc;AAAEP,MAAAA;AAAF,KAAd;AACD;;AAkBDkB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE,KAAKnB,KAAL,CAAWC,WADpB;AAEE,MAAA,QAAQ,EAAE,KAAKC,uBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAQD;;AAhCqC;;AAmCxC,eAAeH,eAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Maintable from \"../common/maintable\";\nimport { getService, deleteWorshippers } from \"../common/Worshippers\";\nimport { toast } from \"react-toastify\";\n\nclass WorshipperTable extends Component {\n  state = { worshippers: [] };\n  async componentDidMount() {\n    const { data: worshippers } = await getService(this.props.match.params.id);\n    this.setState({ worshippers });\n  }\n\n  handleDeleteWorshippers = async (worshipper) => {\n    const originalWorshipper = this.state.worshippers;\n    const worshippers = originalWorshipper.filter(\n      (s) => s._id !== worshipper._id\n    );\n    this.setState({ worshippers });\n\n    try {\n      await deleteWorshippers(worshipper._id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        toast.error(\"This person has been already deleted\");\n\n      this.setState({ worshippers: originalWorshipper });\n    }\n  };\n  render() {\n    return (\n      <div className=\"col-m\">\n        <Maintable\n          items={this.state.worshippers}\n          toDelete={this.handleDeleteWorshippers}\n        />\n      </div>\n    );\n  }\n}\n\nexport default WorshipperTable;\n"]},"metadata":{},"sourceType":"module"}