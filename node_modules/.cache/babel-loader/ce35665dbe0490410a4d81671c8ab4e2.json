{"ast":null,"code":"var _jsxFileName = \"/home/kellyegesa/Desktop/Projects/ack_stpeters/src/compoments/Worshippers.jsx\";\nimport React, { Component } from \"react\";\nimport Maintable from \"../common/maintable\";\nimport { getService, deleteWorshippers } from \"../common/Worshippers\";\nimport { toast } from \"react-toastify\";\n\nclass WorshipperTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      worshippers: []\n    };\n\n    this.handleSelect = async () => {\n      const {\n        data: worshippers\n      } = await getService(this.props.selectedItem._id);\n      this.setState({\n        worshippers\n      });\n    };\n\n    this.handleDeleteWorshippers = async worshipper => {\n      const originalWorshipper = this.state.worshippers;\n      const worshippers = originalWorshipper.filter(s => s._id !== worshipper._id);\n      this.setState({\n        worshippers\n      });\n\n      try {\n        await deleteWorshippers(worshipper._id);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404) toast.error(\"This person has been already deleted\");\n        this.setState({\n          worshippers: originalWorshipper\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-m\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Maintable, {\n      items: this.state.worshippers,\n      toDelete: this.handleDeleteWorshippers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default WorshipperTable;","map":{"version":3,"sources":["/home/kellyegesa/Desktop/Projects/ack_stpeters/src/compoments/Worshippers.jsx"],"names":["React","Component","Maintable","getService","deleteWorshippers","toast","WorshipperTable","state","worshippers","handleSelect","data","props","selectedItem","_id","setState","handleDeleteWorshippers","worshipper","originalWorshipper","filter","s","ex","response","status","error","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAASC,UAAT,EAAqBC,iBAArB,QAA8C,uBAA9C;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AACA,MAAMC,eAAN,SAA8BL,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACtCM,KADsC,GAC9B;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAD8B;;AAAA,SAEtCC,YAFsC,GAEvB,YAAY;AACzB,YAAM;AAAEC,QAAAA,IAAI,EAAEF;AAAR,UAAwB,MAAML,UAAU,CAAC,KAAKQ,KAAL,CAAWC,YAAX,CAAwBC,GAAzB,CAA9C;AACA,WAAKC,QAAL,CAAc;AAAEN,QAAAA;AAAF,OAAd;AACD,KALqC;;AAAA,SAMtCO,uBANsC,GAMZ,MAAOC,UAAP,IAAsB;AAC9C,YAAMC,kBAAkB,GAAG,KAAKV,KAAL,CAAWC,WAAtC;AACA,YAAMA,WAAW,GAAGS,kBAAkB,CAACC,MAAnB,CACjBC,CAAD,IAAOA,CAAC,CAACN,GAAF,KAAUG,UAAU,CAACH,GADV,CAApB;AAGA,WAAKC,QAAL,CAAc;AAAEN,QAAAA;AAAF,OAAd;;AAEA,UAAI;AACF,cAAMJ,iBAAiB,CAACY,UAAU,CAACH,GAAZ,CAAvB;AACD,OAFD,CAEE,OAAOO,EAAP,EAAW;AACX,YAAIA,EAAE,CAACC,QAAH,IAAeD,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,GAA1C,EACEjB,KAAK,CAACkB,KAAN,CAAY,sCAAZ;AAEF,aAAKT,QAAL,CAAc;AAAEN,UAAAA,WAAW,EAAES;AAAf,SAAd;AACD;AACF,KArBqC;AAAA;;AAsBtCO,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWC,WADpB;AAEE,MAAA,QAAQ,EAAE,KAAKO,uBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAQD;;AA/BqC;;AAkCxC,eAAeT,eAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Maintable from \"../common/maintable\";\nimport { getService, deleteWorshippers } from \"../common/Worshippers\";\nimport { toast } from \"react-toastify\";\nclass WorshipperTable extends Component {\n  state = { worshippers: [] };\n  handleSelect = async () => {\n    const { data: worshippers } = await getService(this.props.selectedItem._id);\n    this.setState({ worshippers });\n  };\n  handleDeleteWorshippers = async (worshipper) => {\n    const originalWorshipper = this.state.worshippers;\n    const worshippers = originalWorshipper.filter(\n      (s) => s._id !== worshipper._id\n    );\n    this.setState({ worshippers });\n\n    try {\n      await deleteWorshippers(worshipper._id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        toast.error(\"This person has been already deleted\");\n\n      this.setState({ worshippers: originalWorshipper });\n    }\n  };\n  render() {\n    return (\n      <div className=\"col-m\">\n        <Maintable\n          items={this.state.worshippers}\n          toDelete={this.handleDeleteWorshippers}\n        />\n      </div>\n    );\n  }\n}\n\nexport default WorshipperTable;\n"]},"metadata":{},"sourceType":"module"}