{"ast":null,"code":"import _regeneratorRuntime from\"/home/kellyegesa/Desktop/ack/ack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kellyegesa/Desktop/ack/ack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/kellyegesa/Desktop/ack/ack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kellyegesa/Desktop/ack/ack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kellyegesa/Desktop/ack/ack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kellyegesa/Desktop/ack/ack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import SidePanel from\"../common/sidepanel\";import{getService,printService}from\"../common/Service\";import{toast}from\"react-toastify\";var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(){var _this;_classCallCheck(this,Dashboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={service:[]};_this.handleServicesSelect=function(service){_this.props.history.push(\"/worshipperTable/\"+service._id);_this.setState({selectedService:service});};_this.handleDeleteService=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(services){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.props.history.push(\"/deleteserv\");case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handlePrintService=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(print){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return printService(print._id);case 3:toast.success(\"Printed successfully... Check Email\");_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);if(_context2.t0.response&&_context2.t0.response.status===400)toast.error(_context2.t0.response.data);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.doService=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.props.history.push(\"/service\");case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _yield$getService,service;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getService();case 2:_yield$getService=_context4.sent;service=_yield$getService.data;this.setState({service:service});case 5:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.setState=function(state,callback){return;};}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"m-2\"},/*#__PURE__*/React.createElement(\"h6\",{style:{textAlign:\"center\"}},\"DASHBOARD \",/*#__PURE__*/React.createElement(\"br\",null),\" SUNDAY SERVICE BOOKING \",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"p\",null,\"Showing \",this.state.service.length,\" service bookings\")),/*#__PURE__*/React.createElement(SidePanel,{items:this.state.service,selectedItem:this.state.selectedService,onItemSelect:this.handleServicesSelect,toDelete:this.handleDeleteService,toPrint:this.handlePrintService,toService:this.doService})));}}]);return Dashboard;}(Component);export default Dashboard;","map":{"version":3,"sources":["/home/kellyegesa/Desktop/ack/ack/src/compoments/admin.jsx"],"names":["React","Component","SidePanel","getService","printService","toast","Dashboard","state","service","handleServicesSelect","props","history","push","_id","setState","selectedService","handleDeleteService","services","handlePrintService","print","success","response","status","error","data","doService","callback","textAlign","length"],"mappings":"u3BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,OAASC,UAAT,CAAqBC,YAArB,KAAyC,mBAAzC,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,GAEMC,CAAAA,S,uUACJC,K,CAAQ,CAAEC,OAAO,CAAE,EAAX,C,OAWRC,oB,CAAuB,SAACD,OAAD,CAAa,CAClC,MAAKE,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,oBAAsBJ,OAAO,CAACK,GAAtD,EACA,MAAKC,QAAL,CAAc,CAAEC,eAAe,CAAEP,OAAnB,CAAd,EACD,C,OAEDQ,mB,0FAAsB,iBAAOC,QAAP,kHACpB,MAAKP,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB,EADoB,sD,qEAItBM,kB,2FAAqB,kBAAOC,KAAP,8JAEXf,CAAAA,YAAY,CAACe,KAAK,CAACN,GAAP,CAFD,QAGjBR,KAAK,CAACe,OAAN,CAAc,qCAAd,EAHiB,kFAKjB,GAAI,aAAGC,QAAH,EAAe,aAAGA,QAAH,CAAYC,MAAZ,GAAuB,GAA1C,CACEjB,KAAK,CAACkB,KAAN,CAAY,aAAGF,QAAH,CAAYG,IAAxB,EANe,qE,uEASrBC,S,sEAAY,wIACV,MAAKf,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EADU,wD,+VA1BsBT,CAAAA,UAAU,E,yCAA5BK,O,mBAANgB,I,CACR,KAAKV,QAAL,CAAc,CAAEN,OAAO,CAAPA,OAAF,CAAd,E,6OAEqB,CACrB,KAAKM,QAAL,CAAgB,SAACP,KAAD,CAAQmB,QAAR,CAAqB,CACnC,OACD,CAFD,CAGD,C,uCAuBQ,CACP,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,4CACE,2BAAK,SAAS,CAAC,KAAf,eACE,0BAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAX,4BACY,8BADZ,yCAC0C,8BAD1C,CADF,cAIE,wCAAY,KAAKpB,KAAL,CAAWC,OAAX,CAAmBoB,MAA/B,qBAJF,CADF,cAOE,oBAAC,SAAD,EACE,KAAK,CAAE,KAAKrB,KAAL,CAAWC,OADpB,CAEE,YAAY,CAAE,KAAKD,KAAL,CAAWQ,eAF3B,CAGE,YAAY,CAAE,KAAKN,oBAHrB,CAIE,QAAQ,CAAE,KAAKO,mBAJjB,CAKE,OAAO,CAAE,KAAKE,kBALhB,CAME,SAAS,CAAE,KAAKO,SANlB,EAPF,CADF,CADF,CAoBD,C,uBAvDqBxB,S,EA0DxB,cAAeK,CAAAA,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport SidePanel from \"../common/sidepanel\";\nimport { getService, printService } from \"../common/Service\";\nimport { toast } from \"react-toastify\";\n\nclass Dashboard extends Component {\n  state = { service: [] };\n\n  async componentDidMount() {\n    const { data: service } = await getService();\n    this.setState({ service });\n  }\n  componentWillUnmount() {\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n  handleServicesSelect = (service) => {\n    this.props.history.push(\"/worshipperTable/\" + service._id);\n    this.setState({ selectedService: service });\n  };\n\n  handleDeleteService = async (services) => {\n    this.props.history.push(\"/deleteserv\");\n  };\n\n  handlePrintService = async (print) => {\n    try {\n      await printService(print._id);\n      toast.success(\"Printed successfully... Check Email\");\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400)\n        toast.error(ex.response.data);\n    }\n  };\n  doService = async () => {\n    this.props.history.push(\"/service\");\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div>\n          <div className=\"m-2\">\n            <h6 style={{ textAlign: \"center\" }}>\n              DASHBOARD <br /> SUNDAY SERVICE BOOKING <br />\n            </h6>\n            <p>Showing {this.state.service.length} service bookings</p>\n          </div>\n          <SidePanel\n            items={this.state.service}\n            selectedItem={this.state.selectedService}\n            onItemSelect={this.handleServicesSelect}\n            toDelete={this.handleDeleteService}\n            toPrint={this.handlePrintService}\n            toService={this.doService}\n          />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}