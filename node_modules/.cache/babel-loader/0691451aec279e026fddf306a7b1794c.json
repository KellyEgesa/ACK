{"ast":null,"code":"import _classCallCheck from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Route,Switch,Redirect}from\"react-router-dom\";import{ToastContainer}from\"react-toastify\";import jwtDecode from\"jwt-decode\";import\"react-toastify/dist/ReactToastify.css\";import LoginForm from\"./compoments/login\";import ServiceForm from\"./compoments/service\";import MainPage from\"./compoments/load\";import Dashboard from\"./compoments/admin\";import Header from\"./common/header\";import Booked from\"./compoments/book\";import WorshipperTable from\"./compoments/Worshippers\";import Confirmed from\"./compoments/confirmed\";import DeleteService from\"./compoments/deleteService\";import Logout from\"./compoments/logout\";import\"./App.css\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){try{var jwt=localStorage.getItem(\"token\");var user=jwtDecode(jwt);this.setState({user:user});}catch(ex){}}},{key:\"render\",value:function render(){var user=this.state.user;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ToastContainer,null),/*#__PURE__*/React.createElement(\"main\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{user:user}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/confirmed/:id\",component:Confirmed}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/worshipperTable/:id\",render:function render(props){if(!localStorage.getItem(\"token\")){return/*#__PURE__*/React.createElement(Redirect,{to:\"LogIn\"});}return/*#__PURE__*/React.createElement(WorshipperTable,props);}}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/deleteserv\",render:function render(props){if(!localStorage.getItem(\"token\")){return/*#__PURE__*/React.createElement(Redirect,{to:\"LogIn\"});}return/*#__PURE__*/React.createElement(DeleteService,props);}}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/service\",render:function render(props){if(!localStorage.getItem(\"token\")){return/*#__PURE__*/React.createElement(Redirect,{to:\"LogIn\"});}return/*#__PURE__*/React.createElement(ServiceForm,props);}}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/Dashboard\",render:function render(props){if(!localStorage.getItem(\"token\")){alert(user);return/*#__PURE__*/React.createElement(Redirect,{to:\"LogIn\"});}return/*#__PURE__*/React.createElement(Dashboard,props);}}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/LogIn\",component:LoginForm}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/logout\",component:Logout}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/Booked\",component:Booked}),/*#__PURE__*/React.createElement(Route,{path:\"kahawasukari/\",component:MainPage}))))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/kellyegesa/Desktop/Projects/ack_stpeters/src/App.js"],"names":["React","Component","Route","Switch","Redirect","ToastContainer","jwtDecode","LoginForm","ServiceForm","MainPage","Dashboard","Header","Booked","WorshipperTable","Confirmed","DeleteService","Logout","App","state","jwt","localStorage","getItem","user","setState","ex","props","alert"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport jwtDecode from \"jwt-decode\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport LoginForm from \"./compoments/login\";\nimport ServiceForm from \"./compoments/service\";\nimport MainPage from \"./compoments/load\";\nimport Dashboard from \"./compoments/admin\";\nimport Header from \"./common/header\";\nimport Booked from \"./compoments/book\";\nimport WorshipperTable from \"./compoments/Worshippers\";\nimport Confirmed from \"./compoments/confirmed\";\nimport DeleteService from \"./compoments/deleteService\";\nimport Logout from \"./compoments/logout\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {};\n\n  componentDidMount() {\n    try {\n      const jwt = localStorage.getItem(\"token\");\n      const user = jwtDecode(jwt);\n      this.setState({ user });\n    } catch (ex) {}\n  }\n\n  render() {\n    const { user } = this.state;\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <main className=\"container\">\n          <div>\n            <Header user={user} />\n            <div className=\"content\">\n              <Switch>\n                <Route\n                  path=\"kahawasukari/confirmed/:id\"\n                  component={Confirmed}\n                />\n                <Route\n                  path=\"kahawasukari/worshipperTable/:id\"\n                  render={(props) => {\n                    if (!localStorage.getItem(\"token\")) {\n                      return <Redirect to=\"LogIn\" />;\n                    }\n                    return <WorshipperTable {...props} />;\n                  }}\n                />\n                <Route\n                  path=\"kahawasukari/deleteserv\"\n                  render={(props) => {\n                    if (!localStorage.getItem(\"token\")) {\n                      return <Redirect to=\"LogIn\" />;\n                    }\n                    return <DeleteService {...props} />;\n                  }}\n                />\n                <Route\n                  path=\"kahawasukari/service\"\n                  render={(props) => {\n                    if (!localStorage.getItem(\"token\")) {\n                      return <Redirect to=\"LogIn\" />;\n                    }\n                    return <ServiceForm {...props} />;\n                  }}\n                />\n                <Route\n                  path=\"kahawasukari/Dashboard\"\n                  render={(props) => {\n                    if (!localStorage.getItem(\"token\")) {\n                      alert(user);\n                      return <Redirect to=\"LogIn\" />;\n                    }\n                    return <Dashboard {...props} />;\n                  }}\n                />\n                <Route path=\"kahawasukari/LogIn\" component={LoginForm} />\n                <Route path=\"kahawasukari/logout\" component={Logout} />\n                <Route path=\"kahawasukari/Booked\" component={Booked} />\n                <Route path=\"kahawasukari/\" component={MainPage} />\n              </Switch>\n            </div>\n          </div>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}