{"ast":null,"code":"import _regeneratorRuntime from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{getWorshippers,deleteWorshippers}from\"../common/Worshippers\";import{toast}from\"react-toastify\";var Confimed=/*#__PURE__*/function(_Component){_inherits(Confimed,_Component);var _super=_createSuper(Confimed);function Confimed(){var _this;_classCallCheck(this,Confimed);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={worshipper:[],user:[]};_this.handleDeleteWorshippers=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return deleteWorshippers(_this.props.match.params.id);case 2:toast.success(\"Deleted\");_this.props.history.push(\"/confimed/\"+_this.props.match.params.id);case 4:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Confimed,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$getWorshippers,worshipper;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return getWorshippers(this.props.match.params.id);case 3:_yield$getWorshippers=_context2.sent;worshipper=_yield$getWorshippers.data;this.setState({worshipper:worshipper,user:\"valid\"});_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);if(_context2.t0.response&&_context2.t0.response.status===404){toast.error(\"invalid user\");this.setState({user:\"Invalid User\"});}if(_context2.t0.response&&_context2.t0.response.status===400){toast.error(_context2.t0.response.data);this.setState({user:_context2.t0.response.data});}case 12:case\"end\":return _context2.stop();}}},_callee2,this,[[0,8]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,user=_this$state.user,worshipper=_this$state.worshipper;console.log(worshipper);return/*#__PURE__*/React.createElement(\"div\",null,user===\"valid\"?/*#__PURE__*/React.createElement(\"div\",{className:\"jumbotron text-center\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-7\"},\"SEAT BOOKED\"),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"\"},\" \",worshipper.firstname,\" \",worshipper.lastname,\" has booked a seat for\",\" \",worshipper.services.name,\" service at \",worshipper.services.time,\" \"),\" \",/*#__PURE__*/React.createElement(\"p\",null,\"To delete your booking press here:\",\" \",/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){_this2.handleDeleteWorshippers();}},\"DELETE\"))):user===\"invalid1\"?/*#__PURE__*/React.createElement(\"div\",{className:\"jumbotron text-center\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-7\"},\"SEAT NOT BOOKED\"),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Your seat was not booked because \",user,\";\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),\" \",\"Kindly contact the Admin for further assistance\",\" \"),\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"jumbotron text-center\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-7\"},\"SEAT NOT BOOKED\"),/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},/*#__PURE__*/React.createElement(\"strong\",null,user,\";\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),\" Kindly contact the Admin for further assistance\")));}}]);return Confimed;}(Component);export default Confimed;","map":{"version":3,"sources":["/home/kellyegesa/Desktop/Projects/ack_stpeters/src/compoments/confirmed.jsx"],"names":["React","Component","getWorshippers","deleteWorshippers","toast","Confimed","state","worshipper","user","handleDeleteWorshippers","props","match","params","id","success","history","push","data","setState","response","status","error","console","log","firstname","lastname","services","name","time"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,cAAT,CAAyBC,iBAAzB,KAAkD,uBAAlD,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,GAEMC,CAAAA,Q,mUACJC,K,CAAQ,CAAEC,UAAU,CAAE,EAAd,CAAkBC,IAAI,CAAE,EAAxB,C,OAkBRC,uB,sEAA0B,yJAClBN,CAAAA,iBAAiB,CAAC,MAAKO,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzB,CADC,QAExBT,KAAK,CAACU,OAAN,CAAc,SAAd,EACA,MAAKJ,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwB,aAAe,MAAKN,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA/D,EAHwB,sD,sXAfaX,CAAAA,cAAc,CAC/C,KAAKQ,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EADuB,C,6CAAnCN,U,uBAANU,I,CAGR,KAAKC,QAAL,CAAc,CAAEX,UAAU,CAAVA,UAAF,CAAcC,IAAI,CAAE,OAApB,CAAd,E,mFAEA,GAAI,aAAGW,QAAH,EAAe,aAAGA,QAAH,CAAYC,MAAZ,GAAuB,GAA1C,CAA+C,CAC7ChB,KAAK,CAACiB,KAAN,CAAY,cAAZ,EACA,KAAKH,QAAL,CAAc,CAAEV,IAAI,CAAE,cAAR,CAAd,EACD,CACD,GAAI,aAAGW,QAAH,EAAe,aAAGA,QAAH,CAAYC,MAAZ,GAAuB,GAA1C,CAA+C,CAC7ChB,KAAK,CAACiB,KAAN,CAAY,aAAGF,QAAH,CAAYF,IAAxB,EACA,KAAKC,QAAL,CAAc,CAAEV,IAAI,CAAE,aAAGW,QAAH,CAAYF,IAApB,CAAd,EACD,C,0NAQI,iCACsB,KAAKX,KAD3B,CACCE,IADD,aACCA,IADD,CACOD,UADP,aACOA,UADP,CAEPe,OAAO,CAACC,GAAR,CAAYhB,UAAZ,EACA,mBACE,+BACGC,IAAI,GAAK,OAAT,cACC,2BAAK,SAAS,CAAC,uBAAf,eACE,0BAAI,SAAS,CAAC,WAAd,gBADF,CAC6C,GAD7C,cAEE,yBAAG,SAAS,CAAC,EAAb,EACG,GADH,CAEGD,UAAU,CAACiB,SAFd,KAE0BjB,UAAU,CAACkB,QAFrC,0BAEqE,GAFrE,CAGGlB,UAAU,CAACmB,QAAX,CAAoBC,IAHvB,gBAGyCpB,UAAU,CAACmB,QAAX,CAAoBE,IAH7D,CAGmE,GAHnE,CAFF,CAMO,GANP,cAOE,kEACqC,GADrC,cAEE,8BACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,kBAAM,CACb,MAAI,CAACnB,uBAAL,GACD,CAJH,WAFF,CAPF,CADD,CAoBGD,IAAI,GAAK,UAAT,cACF,2BAAK,SAAS,CAAC,uBAAf,eACE,0BAAI,SAAS,CAAC,WAAd,oBADF,CACiD,GADjD,cAEE,yBAAG,SAAS,CAAC,MAAb,eACE,sEAA0CA,IAA1C,KADF,kBAC4D,8BAD5D,CACmE,GADnE,mDAEkD,GAFlD,CAFF,CAKO,GALP,CADE,cASF,2BAAK,SAAS,CAAC,uBAAf,eACE,0BAAI,SAAS,CAAC,WAAd,oBADF,cAEE,yBAAG,SAAS,CAAC,MAAb,eACE,kCAASA,IAAT,KADF,kBAC2B,8BAD3B,oDAFF,CA9BJ,CADF,CAyCD,C,sBApEoBP,S,EAuEvB,cAAeI,CAAAA,QAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { getWorshippers, deleteWorshippers } from \"../common/Worshippers\";\nimport { toast } from \"react-toastify\";\n\nclass Confimed extends Component {\n  state = { worshipper: [], user: [] };\n  async componentDidMount() {\n    try {\n      const { data: worshipper } = await getWorshippers(\n        this.props.match.params.id\n      );\n      this.setState({ worshipper, user: \"valid\" });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404) {\n        toast.error(\"invalid user\");\n        this.setState({ user: \"Invalid User\" });\n      }\n      if (ex.response && ex.response.status === 400) {\n        toast.error(ex.response.data);\n        this.setState({ user: ex.response.data });\n      }\n    }\n  }\n  handleDeleteWorshippers = async () => {\n    await deleteWorshippers(this.props.match.params.id);\n    toast.success(\"Deleted\");\n    this.props.history.push(\"/confimed/\" + this.props.match.params.id);\n  };\n  render() {\n    const { user, worshipper } = this.state;\n    console.log(worshipper);\n    return (\n      <div>\n        {user === \"valid\" ? (\n          <div className=\"jumbotron text-center\">\n            <h1 className=\"display-7\">SEAT BOOKED</h1>{\" \"}\n            <p className=\"\">\n              {\" \"}\n              {worshipper.firstname} {worshipper.lastname} has booked a seat for{\" \"}\n              {worshipper.services.name} service at {worshipper.services.time}{\" \"}\n            </p>{\" \"}\n            <p>\n              To delete your booking press here:{\" \"}\n              <button\n                className=\"btn btn-danger\"\n                onClick={() => {\n                  this.handleDeleteWorshippers();\n                }}\n              >\n                DELETE\n              </button>\n            </p>\n          </div>\n        ) : user === \"invalid1\" ? (\n          <div className=\"jumbotron text-center\">\n            <h1 className=\"display-7\">SEAT NOT BOOKED</h1>{\" \"}\n            <p className=\"lead\">\n              <strong>Your seat was not booked because {user};</strong> <br />{\" \"}\n              Kindly contact the Admin for further assistance{\" \"}\n            </p>{\" \"}\n          </div>\n        ) : (\n          <div className=\"jumbotron text-center\">\n            <h1 className=\"display-7\">SEAT NOT BOOKED</h1>\n            <p className=\"lead\">\n              <strong>{user};</strong> <br /> Kindly contact the Admin for\n              further assistance\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Confimed;\n"]},"metadata":{},"sourceType":"module"}