{"ast":null,"code":"import _regeneratorRuntime from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kellyegesa/Desktop/Projects/ack_stpeters/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Joi from\"joi-browser\";import Form from\"../common/form\";import{saveService}from\"../common/Service\";import{toast}from\"react-toastify\";var serviceForm=/*#__PURE__*/function(_Form){_inherits(serviceForm,_Form);var _super=_createSuper(serviceForm);function serviceForm(){var _this;_classCallCheck(this,serviceForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:{name:\"\",time:\"\",seatsLeft:\"\"},errors:{}};_this.schema={name:Joi.string().min(3).max(20).required(),time:Joi.string().regex(/^([0-9]{2}):([0-9]{2})$/).required(),seatsLeft:Joi.number().min(0).max(100).required()};_this.doSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return saveService(_this.state.data);case 3:_this.props.history.push(\"/Dashboard\");console.log(\"submitted\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(_context.t0.response&&_context.t0.response.status===400)toast.error(_context.t0.response.data);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _this;}_createClass(serviceForm,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"ADD SERVICE\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},this.renderInput(\"name\",\"Name\"),this.renderInput(\"time\",\"Time\",\"time\"),this.renderInput(\"seatsLeft\",\"Seats\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},this.renderButton(\"ADD\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"})))),/*#__PURE__*/React.createElement(\"div\",null));}}]);return serviceForm;}(Form);export default serviceForm;","map":{"version":3,"sources":["/home/kellyegesa/Desktop/Projects/ack_stpeters/src/compoments/service.jsx"],"names":["React","Joi","Form","saveService","toast","serviceForm","state","data","name","time","seatsLeft","errors","schema","string","min","max","required","regex","number","doSubmit","props","history","push","console","log","response","status","error","handleSubmit","renderInput","renderButton"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,aAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,gBAAjB,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,GAEMC,CAAAA,W,qUACJC,K,CAAQ,CACNC,IAAI,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,IAAI,CAAE,EAAlB,CAAsBC,SAAS,CAAE,EAAjC,CADA,CAENC,MAAM,CAAE,EAFF,C,OAIRC,M,CAAS,CACPJ,IAAI,CAAEP,GAAG,CAACY,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,EAAxB,EAA4BC,QAA5B,EADC,CAEPP,IAAI,CAAER,GAAG,CAACY,MAAJ,GACHI,KADG,CACG,yBADH,EAEHD,QAFG,EAFC,CAKPN,SAAS,CAAET,GAAG,CAACiB,MAAJ,GAAaJ,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,GAAxB,EAA6BC,QAA7B,EALJ,C,OAQTG,Q,sEAAW,yKAEDhB,CAAAA,WAAW,CAAC,MAAKG,KAAL,CAAWC,IAAZ,CAFV,QAGP,MAAKa,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EACAC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAJO,+EAMP,GAAI,YAAGC,QAAH,EAAe,YAAGA,QAAH,CAAYC,MAAZ,GAAuB,GAA1C,CACEtB,KAAK,CAACuB,KAAN,CAAY,YAAGF,QAAH,CAAYlB,IAAxB,EAPK,oE,gFAWF,CACP,mBACE,4CACE,4CACE,4CADF,cAEE,4BAAM,QAAQ,CAAE,KAAKqB,YAArB,EACG,KAAKC,WAAL,CAAiB,MAAjB,CAAyB,MAAzB,CADH,CAEG,KAAKA,WAAL,CAAiB,MAAjB,CAAyB,MAAzB,CAAiC,MAAjC,CAFH,CAGG,KAAKA,WAAL,CAAiB,WAAjB,CAA8B,OAA9B,CAHH,cAIE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,KAAf,EAAsB,KAAKC,YAAL,CAAkB,KAAlB,CAAtB,CADF,cAEE,2BAAK,SAAS,CAAC,KAAf,EAFF,CAJF,CAFF,CADF,cAeE,+BAfF,CADF,CAmBD,C,yBA5CuB5B,I,EA+C1B,cAAeG,CAAAA,WAAf","sourcesContent":["import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"../common/form\";\nimport { saveService } from \"../common/Service\";\nimport { toast } from \"react-toastify\";\n\nclass serviceForm extends Form {\n  state = {\n    data: { name: \"\", time: \"\", seatsLeft: \"\" },\n    errors: {},\n  };\n  schema = {\n    name: Joi.string().min(3).max(20).required(),\n    time: Joi.string()\n      .regex(/^([0-9]{2}):([0-9]{2})$/)\n      .required(),\n    seatsLeft: Joi.number().min(0).max(100).required(),\n  };\n\n  doSubmit = async () => {\n    try {\n      await saveService(this.state.data);\n      this.props.history.push(\"/Dashboard\");\n      console.log(\"submitted\");\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400)\n        toast.error(ex.response.data);\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <h4>ADD SERVICE</h4>\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput(\"name\", \"Name\")}\n            {this.renderInput(\"time\", \"Time\", \"time\")}\n            {this.renderInput(\"seatsLeft\", \"Seats\")}\n            <div className=\"form-row\">\n              <div className=\"col\">{this.renderButton(\"ADD\")}</div>\n              <div className=\"col\">\n                {/* <button className=\"btn btn-primary\">BACK</button> */}\n              </div>\n            </div>\n          </form>\n        </div>\n        <div></div>\n      </div>\n    );\n  }\n}\n\nexport default serviceForm;\n"]},"metadata":{},"sourceType":"module"}